<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <title>Zepto DOM unit tests</title>
    <script src="../../polyfill.js"></script>
    <script src="../../zepto.js"></script>
    <script src="../../event.js"></script>
</head>
<body>
    <div id="some_element"></div>
    <div id="trigger_handler">
        <form action="test.php">
            <input id="submit" type="submit">
        </form>
    </div>
<script>

    $('#submit').click(function(e){
        //alert(e instanceof $.Event)
        //alert(e.defaultPrevented)
        //e.defaultPrevented = true;
        e.preventDefault()
        //alert(e.defaultPrevented)
    })

    $('#some_element').bind('custom', function(e){

        e.preventDefault()
        alert(e.defaultPrevented)
    })
    var event = $.Event('custom')
    console.log(event)
    $('#some_element').trigger(event)
    alert(event.defaultPrevented)

    /*
    var form = $('#trigger_handler form').get(0)
    $('#trigger_handler').bind('submit', function(e) {
        alert("triggerHandler shouldn't bubble")
    })

    var executed = []
    $(form).bind('submit', function(e) {
        executed.push("1")
        console.log(e.target)
        return 1
    })
    $(form).bind('submit', function(e) {
        executed.push("2")
        console.log(form, e.target)
        e.stopImmediatePropagation()
        return 2
    })
    $(form).bind('submit', function(e) {
        alert("triggerHandler shouldn't continue after stopImmediatePropagation")
    })
   alert($(form).triggerHandler('submit'))
    console.log(executed.join(' '))
 */

</script>
</body>
</html>
